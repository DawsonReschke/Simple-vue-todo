{"remainingRequest":"/Users/dawson/workspace/fiveMinuteChal/nodejs/vue/C_Todo/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dawson/workspace/fiveMinuteChal/nodejs/vue/C_Todo/client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dawson/workspace/fiveMinuteChal/nodejs/vue/C_Todo/client/src/App.vue","mtime":1634345563068},{"path":"/Users/dawson/workspace/fiveMinuteChal/nodejs/vue/C_Todo/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dawson/workspace/fiveMinuteChal/nodejs/vue/C_Todo/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dawson/workspace/fiveMinuteChal/nodejs/vue/C_Todo/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dawson/workspace/fiveMinuteChal/nodejs/vue/C_Todo/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgLy8gaW1wb3J0IE5ld1RvZG8gZnJvbSAiLi9jb21wb25lbnRzL25ld3RvZG8udnVlIgogIGltcG9ydCBDcmVhdGVUb2RvIGZyb20gIi4vY29tcG9uZW50cy9jcmVhdGUtdG9kby52dWUiCiAgaW1wb3J0IERpc3BsYXlUb2RvIGZyb20gIi4vY29tcG9uZW50cy9kaXNwbGF5LXRvZG8udnVlIgogIGltcG9ydCBDaGFuZ2VUb2RvIGZyb20gIi4vY29tcG9uZW50cy9jaGFuZ2UtdG9kby52dWUiCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGFwaVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAzMC9hcGkvdjEnLCAKICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgIGlzQ2hhbmdpbmdUb2RvOiBmYWxzZSwKICAgICAgdG9kb1RvQ2hhbmdlOiBbXSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIHRoaXMuZ2V0RGF0YSgpOyAKICAgIGNvbnNvbGUubG9nKCJjcmVhdGVkIGF0Iik7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAvLyBOZXdUb2RvLAogICAgQ3JlYXRlVG9kbywKICAgIERpc3BsYXlUb2RvLAogICAgQ2hhbmdlVG9kbywKICB9LAogIG1ldGhvZHM6ewogICAgIGFzeW5jIGdldERhdGEoKSB7IAogICAgICAgY29uc29sZS5sb2coJ2dldHRpbmcgZGF0YScpOyAKICAgICAgIHRyeSB7CiAgICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYXBpVVJMKTsgCiAgICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgCiAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2F0ZWdvcmllcyk7IAogICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgfQogICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7IAogICAgICAgICAgICAvLyB0cnl7CiAgICAgICAgICAgIC8vICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLm1haW5VUkwpOwogICAgICAgICAgICAvLyAgICAgdGhpcy5jYXRlZ29yaWVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOyAKICAgICAgICAgICAgLy8gfWNhdGNoKGVycm9yKXsKICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycm9yKTsgCiAgICAgICAgICAgIC8vIH0gCiAgICB9LAogICAgQ1RvZG9IYW5kbGVyKHR5cGUpewogICAgICBzd2l0Y2godHlwZSl7CiAgICAgICAgY2FzZSgncmVsb2FkJyk6CiAgICAgICAgc2V0VGltZW91dCh0aGlzLmdldERhdGEsMjUwKTsgCiAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgICBicmVhazsgCiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VUb2RvSGFuZGxlcih0eXBlLCB0b2RvLGlkKXsKICAgICAgc3dpdGNoKHR5cGUpewogICAgICAgIGNhc2UoJ3N1Ym1pdENoYW5nZXMnKToKICAgICAgICBjb25zb2xlLmxvZygidG9kbzogIix0b2RvLCAiIGlkOiAiLCBpZCk7CiAgICAgICAgICAvL2NyZWF0ZSBwdXQgcmVxdWVzdCAodG9kbyk7IAogICAgICAgICAgdGhpcy5pc0NoYW5naW5nVG9kbyA9IGZhbHNlOyAKICAgICAgICAgIHRoaXMudG9kb1RvQ2hhbmdlID0gW107CiAgICAgICAgICAvKgogICAgICAgICAgZGF0YSB0byBzZW5kIDogewogICAgICAgICAgICBjYXRlZ29yeTogc3RyaW5nLAogICAgICAgICAgICBsaXN0OiBbe30se31dCiAgICAgICAgICB9CiAgICAgICAgICAqLwogICAgICAgICB0aGlzLlhIUih0b2RvLCdQVVQnLGAke3RoaXMuYXBpVVJMfS8ke2lkfWApCiAgICAgICAgICBzZXRUaW1lb3V0KDI1MCk7IAogICAgICAgICAgdGhpcy5nZXREYXRhKCk7IAogICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UoJ2NhbmNlbENoYW5nZXMnKTogCiAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpOyAKICAgICAgICBicmVhazsgCiAgICAgIH0KICAgIH0sCiAgICBjYXRIYW5kbGVyKHR5cGUsdG9kbyl7CiAgICAgIGNvbnNvbGUubG9nKCJjYXRIYW5kbGVyIik7IAovL2lmIGNoYW5nZSA6IHRvZG8gaXMgbm93IGFuIGludGVnZXI6IHRoZSB0b2RvIGluZGV4IHJhdGhlcgogICAgICBzd2l0Y2godHlwZSl7CiAgICAgICAgY2FzZSgnY29tcGxldGUnKTovKmNyZWF0ZXMgYSBwdXQgcmVxdWVzdCB0byBzd2FwIGNvbXBsZXRlIHRvICFjb21wbGV0ZSovIAogICAgICAgICAgY29uc29sZS5sb2codG9kbyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlKCdkZWxldGUnKTovKmNyZWF0ZXMgYSBkZWxldGUgcmVxdWVzdCBmb3Ige19pZCA6IHRvZG8uaWR9Ki8gCiAgICAgICAgY29uc29sZS5sb2codG9kbyk7CiAgICAgICAgICB0aGlzLlhIUih0b2RvWzFdLCdERUxFVEUnLGAke3RoaXMuYXBpVVJMfS8ke3RvZG9bMF19YCkKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UoJ2NoYW5nZScpOi8qY2hhbmdlcyB0aGUgY3JlYXRlVG9kbyB0byBhIGNoYW5nZVRvZG8gd2l0aCB0b2RvID0gdG9kb3NbdG9kb10qLyAKICAgICAgICAgICAgdGhpcy5pc0NoYW5naW5nVG9kbyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMudG9kb1RvQ2hhbmdlID0gdG9kbzsgCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7IAogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsgCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudG9kb1RvQ2hhbmdlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0sCiAgICBkZWxldGVUb2RvKHRvZG8pewogICAgICAvL21ha2UgaHR0cCByZXF1ZXN0IHRvIGRlbGV0ZSB0b2RvIHdpdGgge19pZCA6IHRvZG8uaWR9CiAgICAgIGNvbnNvbGUubG9nKHRvZG8pOyAKICAgIH0sCiAgICBjaGFuZ2VUb2RvKHRvZG9JbmRleCl7CiAgICAgIC8vbWFrZSBodHRwIHB1dCByZXF1ZXN0IHRvIGNoYW5nZSB0b2RvIHdpdGgge19pZCA6IHRvZG8uaWR9IHRvIDoge25ld1RvZG99CiAgICAgIHRoaXMudmlld0luZGV4ID0gdG9kb0luZGV4OyAKICAgICAgdGhpcy5pc0NoYW5naW5nVG9kbyA9IHRydWU7IAogICAgfSwKICAgIHZpZXdUb2RvKHRvZG9JbmRleCl7CiAgICAgIC8vdXBkYXRlIGxvY2FsIHZhcmlhbGJlICJ2aWV3aW5nSW5kZXgiCiAgICAgIC8vd2FpdCBmb3IgZW1pdCBmcm9tICJuZXd0b2RvIiB0byBjbGVhciB0aGVzZS4uCiAgICAgIHRoaXMudmlld0luZGV4ID0gdG9kb0luZGV4OyAKICAgIH0sCiAgICBjb21wbGV0ZVRvZG8odG9kbyl7CiAgICAgIC8vY3JlYXRlcyBhIHB1dCByZXF1ZXN0IHNpbXBseSBzZXRpbmcgdGhpcyB0b2RvIHRvIGNvbXBsZXRlL2luY29tcGxldGUgCiAgICAgIGNvbnNvbGUubG9nKHRvZG8pOwogICAgfSwKICAgIGNsZWFyVmlld0luZGV4KCl7CiAgICAgIHRoaXMudmlld0luZGV4ID0gLTE7IAogICAgICB0aGlzLmlzQ2hhbmdpbmdUb2RvPSBmYWxzZTsgCiAgICB9LAogICAgWEhSKGRhdGEsIHR5cGUsIHVybCl7CiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgeGhyLm9wZW4odHlwZSx1cmwsIHRydWUpOwogICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOyAKICAgICAgc2V0VGltZW91dCh0aGlzLmdldERhdGEsIDI1MCk7CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICB9LAogICAgcmVzZXRGb3JtKCl7CiAgICAgIHRoaXMudG9kb1RvQ2hhbmdlID0gW107CiAgICAgIHRoaXMuaXNDaGFuZ2luZ1RvZG8gPSBmYWxzZTsgCiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <!-- <NewTodo :isChangingTodo=\"isChangingTodo\" :viewIndex=\"viewIndex\"/> -->\n    <div v-if=\"!loading && isChangingTodo\" class=\"change-todo\">\n    <ChangeTodo @changeTodoHandler=\"changeTodoHandler\" :todo=\"todoToChange\"/>\n    </div>\n    <div v-if=\"!isChangingTodo\" class=\"create-todo\">\n   <CreateTodo @CTodoHandler=\"CTodoHandler\" :categories=\"categories\"/>\n    </div>\n    <br>\n    <DisplayTodo @catHandler=\"catHandler\" :categories=\"categories\"/>\n    <!-- <img alt=\"Vue logo\" src=\"./assets/logo.png\"> -->\n  </div>\n</template>\n\n<script>\n  // import NewTodo from \"./components/newtodo.vue\"\n  import CreateTodo from \"./components/create-todo.vue\"\n  import DisplayTodo from \"./components/display-todo.vue\"\n  import ChangeTodo from \"./components/change-todo.vue\"\nexport default {\n  name: 'App',\n  data(){\n    return{\n      apiURL: 'http://localhost:3030/api/v1', \n      categories: [],\n      isChangingTodo: false,\n      todoToChange: [],\n      loading: true,\n    }\n  },\n  created(){\n    this.getData(); \n    console.log(\"created at\");\n  },\n  components: {\n    // NewTodo,\n    CreateTodo,\n    DisplayTodo,\n    ChangeTodo,\n  },\n  methods:{\n     async getData() { \n       console.log('getting data'); \n       try {\n         let response = await fetch(this.apiURL); \n         this.categories = await response.json(); \n         console.log(this.categories); \n       } catch (error) {\n         console.log(error);\n       }\n       this.loading = false; \n            // try{\n            //     let response = await fetch(this.mainURL);\n            //     this.categories = await response.json();\n            //     console.log(response); \n            // }catch(error){\n            //     console.log(error); \n            // } \n    },\n    CTodoHandler(type){\n      switch(type){\n        case('reload'):\n        setTimeout(this.getData,250); \n        this.resetForm();\n        break; \n      }\n    },\n    changeTodoHandler(type, todo,id){\n      switch(type){\n        case('submitChanges'):\n        console.log(\"todo: \",todo, \" id: \", id);\n          //create put request (todo); \n          this.isChangingTodo = false; \n          this.todoToChange = [];\n          /*\n          data to send : {\n            category: string,\n            list: [{},{}]\n          }\n          */\n         this.XHR(todo,'PUT',`${this.apiURL}/${id}`)\n          setTimeout(250); \n          this.getData(); \n        break;\n        case('cancelChanges'): \n          this.resetForm(); \n        break; \n      }\n    },\n    catHandler(type,todo){\n      console.log(\"catHandler\"); \n//if change : todo is now an integer: the todo index rather\n      switch(type){\n        case('complete'):/*creates a put request to swap complete to !complete*/ \n          console.log(todo);\n          break;\n        case('delete'):/*creates a delete request for {_id : todo.id}*/ \n        console.log(todo);\n          this.XHR(todo[1],'DELETE',`${this.apiURL}/${todo[0]}`)\n          break;\n        case('change'):/*changes the createTodo to a changeTodo with todo = todos[todo]*/ \n            this.isChangingTodo = true;\n            this.todoToChange = todo; \n            this.loading = true; \n            this.loading = false; \n            console.log(this.todoToChange);\n          break;\n        }\n    },\n    deleteTodo(todo){\n      //make http request to delete todo with {_id : todo.id}\n      console.log(todo); \n    },\n    changeTodo(todoIndex){\n      //make http put request to change todo with {_id : todo.id} to : {newTodo}\n      this.viewIndex = todoIndex; \n      this.isChangingTodo = true; \n    },\n    viewTodo(todoIndex){\n      //update local varialbe \"viewingIndex\"\n      //wait for emit from \"newtodo\" to clear these..\n      this.viewIndex = todoIndex; \n    },\n    completeTodo(todo){\n      //creates a put request simply seting this todo to complete/incomplete \n      console.log(todo);\n    },\n    clearViewIndex(){\n      this.viewIndex = -1; \n      this.isChangingTodo= false; \n    },\n    XHR(data, type, url){\n      var xhr = new XMLHttpRequest();\n      xhr.open(type,url, true);\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      xhr.send(JSON.stringify(data)); \n      setTimeout(this.getData, 250);\n      this.resetForm();\n    },\n    resetForm(){\n      this.todoToChange = [];\n      this.isChangingTodo = false; \n    }\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n"]}]}